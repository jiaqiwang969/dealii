<!-- HTML header for doxygen 1.8.17-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="canonical" href="https://www.dealii.org/current/doxygen/deal.II/translator_2base_2thread__local__storage_8h_source.html" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The deal.II Library: include/deal.II-translator/base/thread_local_storage.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link rel="SHORTCUT ICON" href="deal.ico"></link>
<script type="text/javascript" src="custom.js"></script>
<meta name="author" content="The deal.II Authors <authors@dealii.org>"></meta>
<meta name="copyright" content="Copyright (C) 1998 - 2021 by the deal.II authors"></meta>
<meta name="deal.II-version" content="10.0.0-pre"></meta>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo200.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber">Reference documentation for deal.II version 10.0.0-pre</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!--Extra macros for MathJax:-->
<div style="display:none">
\(\newcommand{\dealvcentcolon}{\mathrel{\mathop{:}}}\)
\(\newcommand{\dealcoloneq}{\dealvcentcolon\mathrel{\mkern-1.2mu}=}\)
\(\newcommand{\jump}[1]{\left[\!\left[ #1 \right]\!\right]}\)
\(\newcommand{\average}[1]{\left\{\!\left\{ #1 \right\}\!\right\}}\)
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_386d89ad50a3909c2af5a93b48d2c3ff.html">deal.II-translator</a></li><li class="navelem"><a class="el" href="dir_93218cacdf2be213c307fc2583c9455e.html">base</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">thread_local_storage.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="translator_2base_2thread__local__storage_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// ---------------------------------------------------------------------</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Copyright (C) 2011 - 2021 by the deal.II authors</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is part of the deal.II library.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// The deal.II library is free software; you can use it, redistribute</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// it, and/or modify it under the terms of the GNU Lesser General</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// Public License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// The full text of the license can be found in the file LICENSE.md at</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// the top level directory of deal.II.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// ---------------------------------------------------------------------</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#ifndef dealii_thread_local_storage_h</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#  define dealii_thread_local_storage_h</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#  include &lt;<a class="code" href="config_8h.html">deal.II/base/config.h</a>&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#  include &lt;<a class="code" href="include_2deal_8II_2base_2exceptions_8h.html">deal.II/base/exceptions.h</a>&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#  include &lt;list&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#  include &lt;map&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#  include &lt;memory&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#  include &lt;shared_mutex&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#  include &lt;thread&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#  include &lt;vector&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<a class="code" href="config_8h.html#a37029dc5bac94f70ea13386b692956b6">DEAL_II_NAMESPACE_OPEN</a></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#  ifndef DOXYGEN</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">class </span><a class="code" href="classLogStream.html">LogStream</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceThreads.html">Threads</a></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;{</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#  ifndef DOXYGEN</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keyword">namespace </span><a class="code" href="namespaceinternal.html">internal</a></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="comment">/*     Workaround: The standard unfortunately has an unfortunate design     &quot;flaw&quot; in the   std::is_copy_constructible   type trait     when it comes to STL containers and containing non-copyable objects     T. The type trait is true even though any attempted invocation leads     to a compilation error. Work around this issue by unpacking some     commonly used containers:    </span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">* */</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keyword">struct </span>unpack_container</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      <span class="keyword">using</span> <a class="code" href="any__data__0_8txt.html#a19ab1003fb0826e8e4d596df81fd7f84">type</a> = <a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    };</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> A&gt;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keyword">struct </span>unpack_container&lt;std::<a class="code" href="numerical__algorithms__0_8txt.html#a852a1e245dd2de4943eeb66beeaf65b1">vector</a>&lt;T, A&gt;&gt;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <span class="keyword">using</span> <a class="code" href="any__data__0_8txt.html#a19ab1003fb0826e8e4d596df81fd7f84">type</a> = <a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    };</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> A&gt;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keyword">struct </span>unpack_container&lt;std::<a class="code" href="function__0_8txt.html#a4a82642bcf2f26063a2c0fd63b5b4254">list</a>&lt;T, A&gt;&gt;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <span class="keyword">using</span> <a class="code" href="any__data__0_8txt.html#a19ab1003fb0826e8e4d596df81fd7f84">type</a> = <a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    };</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  } <span class="comment">// namespace internal</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keyword">class </span>ThreadLocalStorage</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    static_assert(</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      std::is_copy_constructible&lt;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keyword">typename</span> <a class="code" href="any__data__0_8txt.html#a19ab1003fb0826e8e4d596df81fd7f84">internal::unpack_container&lt;T&gt;::type</a>&gt;::value ||</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <a class="code" href="functions__0_8txt.html#af9f808a82e8c618e2e7a19dd08a9eae3">std::is_default_constructible&lt;T&gt;::value</a>,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="stringliteral">&quot;The stored type must be either copyable, or default constructible&quot;</span>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="classThreads_1_1ThreadLocalStorage.html#a6a2959fea1248c93d2853b0056ed3a0c">ThreadLocalStorage</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="classThreads_1_1ThreadLocalStorage.html#a6a2959fea1248c93d2853b0056ed3a0c">ThreadLocalStorage</a>(<span class="keyword">const</span> <a class="code" href="classThreads_1_1ThreadLocalStorage.html#a6a2959fea1248c93d2853b0056ed3a0c">ThreadLocalStorage</a> &amp;);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="classThreads_1_1ThreadLocalStorage.html#a6a2959fea1248c93d2853b0056ed3a0c">ThreadLocalStorage</a>(<a class="code" href="classThreads_1_1ThreadLocalStorage.html#a6a2959fea1248c93d2853b0056ed3a0c">ThreadLocalStorage</a> &amp;&amp;t) noexcept;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keyword">explicit</span> <a class="code" href="classThreads_1_1ThreadLocalStorage.html#a6a2959fea1248c93d2853b0056ed3a0c">ThreadLocalStorage</a>(<span class="keyword">const</span> <a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a> &amp;t);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keyword">explicit</span> <a class="code" href="classThreads_1_1ThreadLocalStorage.html#a6a2959fea1248c93d2853b0056ed3a0c">ThreadLocalStorage</a>(<a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a> &amp;&amp;t);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="classThreads_1_1ThreadLocalStorage.html#a6a2959fea1248c93d2853b0056ed3a0c">ThreadLocalStorage</a> &amp;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="classThreads_1_1ThreadLocalStorage.html#aac03908f960edb905d3354286d76a03d">operator=</a>(<span class="keyword">const</span> <a class="code" href="classThreads_1_1ThreadLocalStorage.html#a6a2959fea1248c93d2853b0056ed3a0c">ThreadLocalStorage</a> &amp;t);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="classThreads_1_1ThreadLocalStorage.html#a6a2959fea1248c93d2853b0056ed3a0c">ThreadLocalStorage</a> &amp;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="classThreads_1_1ThreadLocalStorage.html#aac03908f960edb905d3354286d76a03d">operator=</a>(<a class="code" href="classThreads_1_1ThreadLocalStorage.html#a6a2959fea1248c93d2853b0056ed3a0c">ThreadLocalStorage</a> &amp;&amp;t) noexcept;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a> &amp;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="classThreads_1_1ThreadLocalStorage.html#a559c730cfc9a6d00b330761ff10fc896">get</a>();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a> &amp;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="classThreads_1_1ThreadLocalStorage.html#a559c730cfc9a6d00b330761ff10fc896">get</a>(<span class="keywordtype">bool</span> &amp;<a class="code" href="chunk__sparsity__pattern__0_8txt.html#a42a93693e0eb71f36614c2b7062883ec">exists</a>);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">operator</span> <a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a> &amp;();</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    ThreadLocalStorage&lt;T&gt; &amp;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="classThreads_1_1ThreadLocalStorage.html#aac03908f960edb905d3354286d76a03d">operator=</a>(<span class="keyword">const</span> <a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a> &amp;t);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    ThreadLocalStorage&lt;T&gt; &amp;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="classThreads_1_1ThreadLocalStorage.html#aac03908f960edb905d3354286d76a03d">operator=</a>(<a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a> &amp;&amp;t);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordtype">void</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="classThreads_1_1ThreadLocalStorage.html#a09bc8f706128e564b421fe8b53e23eda">clear</a>();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    std::map&lt;std::thread::id, T&gt; <a class="code" href="classThreads_1_1ThreadLocalStorage.html#ab53bcf22d1ce5cdff8fcab775a7a0e44">data</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="preprocessor">#  ifdef DEAL_II_HAVE_CXX17</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keyword">mutable</span> std::shared_mutex <a class="code" href="classThreads_1_1ThreadLocalStorage.html#a9a240d9c583eb12f37b002c5abcf5394">insertion_mutex</a>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="preprocessor">#  else</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keyword">mutable</span> std::shared_timed_mutex <a class="code" href="classThreads_1_1ThreadLocalStorage.html#a9a240d9c583eb12f37b002c5abcf5394">insertion_mutex</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    std::shared_ptr&lt;const T&gt; <a class="code" href="classThreads_1_1ThreadLocalStorage.html#a2dbe746bf73d569a5d30ab56dadeed3d">exemplar</a>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keyword">friend</span> class ::LogStream;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  };</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;} <span class="comment">// namespace Threads</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment"></span><span class="preprocessor">#  ifndef DOXYGEN</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceThreads.html">Threads</a></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;{</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="comment">// ----------------- inline and template functions --------------------------</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="classThreads_1_1ThreadLocalStorage.html#a6a2959fea1248c93d2853b0056ed3a0c">ThreadLocalStorage&lt;T&gt;::ThreadLocalStorage</a>(<span class="keyword">const</span> ThreadLocalStorage&lt;T&gt; &amp;t)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    : exemplar(t.exemplar)</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">// Raise a reader lock while we are populating our own data in order to</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">// avoid copying over an invalid state.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    std::shared_lock&lt;decltype(insertion_mutex)&gt; lock(t.insertion_mutex);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="A-headers_2exceptions__0_8txt.html#af85863b31be0cbd660acba99051e0634">data</a> = t.data;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  ThreadLocalStorage&lt;T&gt;::ThreadLocalStorage(ThreadLocalStorage&lt;T&gt; &amp;&amp;t) noexcept</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    : exemplar(std::move(t.exemplar))</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">// We are nice and raise the writer lock before copying over internal</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// data structures from the argument.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">// The point is a bit moot, though: Users of ThreadLocalStorage</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">// typically obtain their thread&#39;s thread-local object through the</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// get() function. That function also acquires the lock, but</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">// whether or not we do that here really doesn&#39;t make any</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment">// difference in terms of correctness: If another thread manages</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">// to call get() just before we get here, then the result of that</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// get() function immediately becomes invalid; if it manages to</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">// call get() at the same time as this function if there were no</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">// locking here, it might access undefined state; and if it</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="comment">// manages to call get() just after we moved away the state --</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">// well, then it just got lucky to escape the race condition, but</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="comment">// the race condition is still there.</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="comment">// On the other hand, there is no harm in doing at least</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="comment">// conceptually the right thing, so ask for that lock:</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    std::unique_lock&lt;decltype(insertion_mutex)&gt; lock(t.insertion_mutex);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="A-headers_2exceptions__0_8txt.html#af85863b31be0cbd660acba99051e0634">data</a> = std::move(t.data);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keyword">inline</span> ThreadLocalStorage&lt;T&gt;::ThreadLocalStorage(<span class="keyword">const</span> <a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a> &amp;t)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    : exemplar(std::make_shared&lt;<a class="code" href="coding__conventions__0_8txt.html#ad54c4de985d6d1b46aaf6ae96ae8d3a1">const</a> <a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a>&gt;(t))</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  {}</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keyword">inline</span> ThreadLocalStorage&lt;T&gt;::ThreadLocalStorage(<a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a> &amp;&amp;t)</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    : exemplar(std::make_shared&lt;<a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a>&gt;(std::<a class="code" href="time__dependent__0_8txt.html#a6418544b7b095153c74d83b899ec57fc">forward</a>&lt;<a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a>&gt;(t)))</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  {}</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keyword">inline</span> ThreadLocalStorage&lt;T&gt; &amp;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <a class="code" href="chunk__sparse__matrix__0_8txt.html#aa747ba884f098177e9bf2b2422a461a9">ThreadLocalStorage&lt;T&gt;::operator=</a>(<span class="keyword">const</span> ThreadLocalStorage&lt;T&gt; &amp;t)</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="comment">// We need to raise the reader lock of the argument and our writer lock</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="comment">// while copying internal data structures.</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    std::shared_lock&lt;decltype(insertion_mutex)&gt; reader_lock(t.insertion_mutex);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    std::unique_lock&lt;decltype(insertion_mutex)&gt; writer_lock(insertion_mutex);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="A-headers_2exceptions__0_8txt.html#af85863b31be0cbd660acba99051e0634">data</a>     = t.data;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    exemplar = t.exemplar;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keyword">inline</span> ThreadLocalStorage&lt;T&gt; &amp;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <a class="code" href="chunk__sparse__matrix__0_8txt.html#aa747ba884f098177e9bf2b2422a461a9">ThreadLocalStorage&lt;T&gt;::operator=</a>(ThreadLocalStorage&lt;T&gt; &amp;&amp;t) noexcept</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="comment">// We need to raise the writer lock of the argument (because we&#39;re</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="comment">// moving information *away* from that object) and the writer lock</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="comment">// of our object while copying internal data structures.</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">// That said, the same issue with acquiring the source lock as</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="comment">// with the move constructor above applies here as well.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    std::unique_lock&lt;decltype(insertion_mutex)&gt; reader_lock(t.insertion_mutex);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    std::unique_lock&lt;decltype(insertion_mutex)&gt; writer_lock(insertion_mutex);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="A-headers_2exceptions__0_8txt.html#af85863b31be0cbd660acba99051e0634">data</a>     = std::move(t.data);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    exemplar = std::move(t.exemplar);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="preprocessor">#    ifndef DOXYGEN</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keyword">namespace </span><a class="code" href="namespaceinternal.html">internal</a></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="comment">/*     We have to make sure not to call &quot;data.emplace(id,exemplar)&quot; if     the corresponding element is not copy constructible. We use some     SFINAE magic to work around the fact that C++14 does not have     &quot;if constexpr&quot;.    </span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">* */</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keyword">typename</span> std::enable_if_t&lt;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <a class="code" href="any__data__0_8txt.html#a19ab1003fb0826e8e4d596df81fd7f84">std::is_copy_constructible&lt;typename unpack_container&lt;T&gt;::type</a>&gt;::value,</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a> &amp;&gt;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    construct_element(std::map&lt;std::thread::id, T&gt; &amp;  <a class="code" href="A-headers_2exceptions__0_8txt.html#af85863b31be0cbd660acba99051e0634">data</a>,</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                      <span class="keyword">const</span> <a class="code" href="grid__out__0_8txt.html#a00ec19d78666d877282fbbbf0b53ab49">std::thread::id</a> &amp;         <span class="keywordtype">id</span>,</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                      <span class="keyword">const</span> std::shared_ptr&lt;const T&gt; &amp;exemplar)</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <span class="keywordflow">if</span> (exemplar)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="automatic__and__symbolic__differentiation__0_8txt.html#ac5d1c63883bb2a85710935e76a7dedd4">it</a> = <a class="code" href="A-headers_2exceptions__0_8txt.html#af85863b31be0cbd660acba99051e0634">data</a>.emplace(<span class="keywordtype">id</span>, *exemplar).first;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="automatic__and__symbolic__differentiation__0_8txt.html#ac5d1c63883bb2a85710935e76a7dedd4">it</a>-&gt;second;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="A-headers_2exceptions__0_8txt.html#af85863b31be0cbd660acba99051e0634">data</a>[<a class="code" href="grid__out__0_8txt.html#a00ec19d78666d877282fbbbf0b53ab49">id</a>];</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keyword">typename</span> std::enable_if_t&lt;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      !<a class="code" href="any__data__0_8txt.html#a19ab1003fb0826e8e4d596df81fd7f84">std::is_copy_constructible&lt;typename unpack_container&lt;T&gt;::type</a>&gt;::value,</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a> &amp;&gt;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    construct_element(std::map&lt;std::thread::id, T&gt; &amp;<a class="code" href="A-headers_2exceptions__0_8txt.html#af85863b31be0cbd660acba99051e0634">data</a>,</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                      <span class="keyword">const</span> <a class="code" href="grid__out__0_8txt.html#a00ec19d78666d877282fbbbf0b53ab49">std::thread::id</a> &amp;       <span class="keywordtype">id</span>,</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                      <span class="keyword">const</span> std::shared_ptr&lt;const T&gt; &amp;)</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="A-headers_2exceptions__0_8txt.html#af85863b31be0cbd660acba99051e0634">data</a>[<a class="code" href="grid__out__0_8txt.html#a00ec19d78666d877282fbbbf0b53ab49">id</a>];</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  } <span class="comment">// namespace internal</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="preprocessor">#    endif</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keyword">inline</span> <a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a> &amp;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <a class="code" href="qprojector__0_8txt.html#ab2b97809f2ec2ec2ad831b4e6457d283">ThreadLocalStorage&lt;T&gt;::get</a>(<span class="keywordtype">bool</span> &amp;<a class="code" href="chunk__sparsity__pattern__0_8txt.html#a42a93693e0eb71f36614c2b7062883ec">exists</a>)</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keyword">const</span> <a class="code" href="grid__out__0_8txt.html#a00ec19d78666d877282fbbbf0b53ab49">std::thread::id</a> my_id = <a class="code" href="particle__iterator__0_8txt.html#a4d3026e3255eb1491e5e2b42b4df4165">std::this_thread::get_id</a>();</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="comment">// Note that std::map&lt;..&gt;::emplace guarantees that no iterators or</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="comment">// references to stored objects are invalidated. We thus only have to</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">// ensure that we do not perform a lookup while writing, and that we</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">// do not write concurrently. This is precisely the &quot;reader-writer</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="comment">// lock&quot; paradigm supported by C++14 by means of the std::shared_lock</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="comment">// and the std::unique_lock.</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <span class="comment">// Take a shared (&quot;reader&quot;) lock for lookup and record the fact</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="comment">// whether we could find an entry in the boolean exists.</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      std::shared_lock&lt;decltype(insertion_mutex)&gt; lock(insertion_mutex);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="automatic__and__symbolic__differentiation__0_8txt.html#ac5d1c63883bb2a85710935e76a7dedd4">it</a> = <a class="code" href="A-headers_2exceptions__0_8txt.html#af85863b31be0cbd660acba99051e0634">data</a>.find(my_id);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="automatic__and__symbolic__differentiation__0_8txt.html#ac5d1c63883bb2a85710935e76a7dedd4">it</a> != <a class="code" href="A-headers_2exceptions__0_8txt.html#af85863b31be0cbd660acba99051e0634">data</a>.end())</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;          <a class="code" href="chunk__sparsity__pattern__0_8txt.html#a42a93693e0eb71f36614c2b7062883ec">exists</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="automatic__and__symbolic__differentiation__0_8txt.html#ac5d1c63883bb2a85710935e76a7dedd4">it</a>-&gt;second;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;          <a class="code" href="chunk__sparsity__pattern__0_8txt.html#a42a93693e0eb71f36614c2b7062883ec">exists</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="comment">// Take a unique (&quot;writer&quot;) lock for manipulating the std::map. This</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <span class="comment">// lock ensures that no other threat does a lookup at the same time.</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      std::unique_lock&lt;decltype(insertion_mutex)&gt; lock(insertion_mutex);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <span class="keywordflow">return</span> internal::construct_element(<a class="code" href="A-headers_2exceptions__0_8txt.html#af85863b31be0cbd660acba99051e0634">data</a>, my_id, exemplar);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keyword">inline</span> <a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a> &amp;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <a class="code" href="qprojector__0_8txt.html#ab2b97809f2ec2ec2ad831b4e6457d283">ThreadLocalStorage&lt;T&gt;::get</a>()</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="chunk__sparsity__pattern__0_8txt.html#a42a93693e0eb71f36614c2b7062883ec">exists</a>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="qprojector__0_8txt.html#ab2b97809f2ec2ec2ad831b4e6457d283">get</a>(<a class="code" href="chunk__sparsity__pattern__0_8txt.html#a42a93693e0eb71f36614c2b7062883ec">exists</a>);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keyword">inline</span> <a class="code" href="precondition__selector__0_8txt.html#a1400415a03f0fadabafb87fd8e6287cc">ThreadLocalStorage&lt;T&gt;::operator</a> <a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a> &amp;()</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="qprojector__0_8txt.html#ab2b97809f2ec2ec2ad831b4e6457d283">get</a>();</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keyword">inline</span> ThreadLocalStorage&lt;T&gt; &amp;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <a class="code" href="chunk__sparse__matrix__0_8txt.html#aa747ba884f098177e9bf2b2422a461a9">ThreadLocalStorage&lt;T&gt;::operator=</a>(<span class="keyword">const</span> <a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a> &amp;t)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="qprojector__0_8txt.html#ab2b97809f2ec2ec2ad831b4e6457d283">get</a>() = t;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keyword">inline</span> ThreadLocalStorage&lt;T&gt; &amp;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <a class="code" href="chunk__sparse__matrix__0_8txt.html#aa747ba884f098177e9bf2b2422a461a9">ThreadLocalStorage&lt;T&gt;::operator=</a>(<a class="code" href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">T</a> &amp;&amp;t)</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="qprojector__0_8txt.html#ab2b97809f2ec2ec2ad831b4e6457d283">get</a>() = std::forward&lt;T&gt;(t);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <a class="code" href="table__0_8txt.html#a7f24305532768edc889062eefd4b28cf">ThreadLocalStorage&lt;T&gt;::clear</a>()</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    std::unique_lock&lt;decltype(insertion_mutex)&gt; lock(insertion_mutex);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <a class="code" href="A-headers_2exceptions__0_8txt.html#af85863b31be0cbd660acba99051e0634">data</a>.clear();</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;} <span class="comment">// namespace Threads</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="preprocessor">#  endif // DOXYGEN</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">//---------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<a class="code" href="config_8h.html#a998f224639942da0567cbd1ec77913b7">DEAL_II_NAMESPACE_CLOSE</a></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">// end of #ifndef dealii_thread_local_storage_h</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">//---------------------------------------------------------------------------</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="afunction__0_8txt_html_a4a82642bcf2f26063a2c0fd63b5b4254"><div class="ttname"><a href="function__0_8txt.html#a4a82642bcf2f26063a2c0fd63b5b4254">list</a></div><div class="ttdeci">it defaults to i e the first component **Return all components of a vector valued function at a given point&lt; tt &gt; values&lt;/tt &gt; shall have the right size i e **Set&lt; tt &gt; values&lt;/tt &gt; to the point values of the specified component of the function at the&lt; tt &gt; points&lt;/tt &gt; It is assumed that&lt; tt &gt; values&lt;/tt &gt; already has the right i e the same size as the&lt; tt &gt; points&lt;/tt &gt; array By this function repeatedly calls to fill the output array **Set&lt; tt &gt; values&lt;/tt &gt; to the point values of the function at the&lt; tt &gt; points&lt;/tt &gt; It is assumed that&lt; tt &gt; values&lt;/tt &gt; already has the right i e the same size as the&lt; tt &gt; points&lt;/tt &gt; and that all elements be vectors with the same number of components as this function has By this function repeatedly calls to fill the output array **For each component of the fill a vector of one for each point The default implementation of this function in Function calls this can be reimplemented in derived classes to speed up performance **Return the gradient of the specified component of the function at the given point **Return the gradient of all components of the function at the given point **Set&lt; tt &gt; gradients&lt;/tt &gt; to the gradients of the specified component of the function at the&lt; tt &gt; points&lt;/tt &gt; It is assumed that&lt; tt &gt; gradients&lt;/tt &gt; already has the right i e the same size as the&lt; tt &gt; points&lt;/tt &gt; array **For each component of the fill a vector of gradient one for each point The default implementation of this function in Function calls this can be reimplemented in derived classes to speed up performance **Set&lt; tt &gt; gradients&lt;/tt &gt; to the gradients of the function at the&lt; tt &gt; for all components It is assumed that&lt; tt &gt; gradients&lt;/tt &gt; already has the right i e the same size as the&lt; tt &gt; points&lt;/tt &gt; array The outer loop over&lt; tt &gt; gradients&lt;/tt &gt; is over the points in the list</div><div class="ttdef"><b>Definition:</b> <a href="function__0_8txt_source.html#l00066">function_0.txt:66</a></div></div>
<div class="ttc" id="atime__dependent__0_8txt_html_a6418544b7b095153c74d83b899ec57fc"><div class="ttname"><a href="time__dependent__0_8txt.html#a6418544b7b095153c74d83b899ec57fc">forward</a></div><div class="ttdeci">timestep[2.x.6] deletes the remaining vectors and deletes the computational somewhere storing information how to rebuild it eventually *From the given sketch it is clear that each time step object sees the following sequence of the numbers of timesteps to look it is usually only needed to look one time step behind when computing error while one needs a look back of at least one for a timestepping method a note on the direction of look ahead and look back is in i e for loops running forward</div><div class="ttdef"><b>Definition:</b> <a href="time__dependent__0_8txt_source.html#l00026">time_dependent_0.txt:26</a></div></div>
<div class="ttc" id="aclassThreads_1_1ThreadLocalStorage_html_a9a240d9c583eb12f37b002c5abcf5394"><div class="ttname"><a href="classThreads_1_1ThreadLocalStorage.html#a9a240d9c583eb12f37b002c5abcf5394">Threads::ThreadLocalStorage::insertion_mutex</a></div><div class="ttdeci">std::shared_timed_mutex insertion_mutex</div><div class="ttdef"><b>Definition:</b> <a href="base_2thread__local__storage_8h_source.html#l00248">thread_local_storage.h:248</a></div></div>
<div class="ttc" id="acoding__conventions__0_8txt_html_ad54c4de985d6d1b46aaf6ae96ae8d3a1"><div class="ttname"><a href="coding__conventions__0_8txt.html#ad54c4de985d6d1b46aaf6ae96ae8d3a1">const</a></div><div class="ttdeci">functions which clear bits or flags should be named[2.x.15] use[2.x.18] instead of *[2.x.19] In the implementation after each three empty lines are expected to enable better readability One empty line occurs in functions to group blocks of since two empty lines are not enough to visibly distinguish sufficiently that the code belongs to two different functions *[2.x.21] Whenever an integer variable can only assume nonnegative it is marked as unsigned The same applies to functions that can only return positive or zero values it should be marked const</div><div class="ttdef"><b>Definition:</b> <a href="coding__conventions__0_8txt_source.html#l00023">coding_conventions_0.txt:23</a></div></div>
<div class="ttc" id="aclassThreads_1_1ThreadLocalStorage_html_a6a2959fea1248c93d2853b0056ed3a0c"><div class="ttname"><a href="classThreads_1_1ThreadLocalStorage.html#a6a2959fea1248c93d2853b0056ed3a0c">Threads::ThreadLocalStorage::ThreadLocalStorage</a></div><div class="ttdeci">ThreadLocalStorage()=default</div></div>
<div class="ttc" id="aclassThreads_1_1ThreadLocalStorage_html_a2dbe746bf73d569a5d30ab56dadeed3d"><div class="ttname"><a href="classThreads_1_1ThreadLocalStorage.html#a2dbe746bf73d569a5d30ab56dadeed3d">Threads::ThreadLocalStorage::exemplar</a></div><div class="ttdeci">std::shared_ptr&lt; const T &gt; exemplar</div><div class="ttdef"><b>Definition:</b> <a href="base_2thread__local__storage_8h_source.html#l00255">thread_local_storage.h:255</a></div></div>
<div class="ttc" id="aprecondition__selector__0_8txt_html_a1400415a03f0fadabafb87fd8e6287cc"><div class="ttname"><a href="precondition__selector__0_8txt.html#a1400415a03f0fadabafb87fd8e6287cc">operator</a></div><div class="ttdeci">Preconditioners *[2.x.1] **Selects the preconditioner The constructor of this class takes the name of the preconditioning and the damping parameter[2.x.2] of the preconditioning and the[2.x.3] function takes the matrix that is used by the matrix builtin precondition functions Each the&lt; tt &gt; operator()&lt;/tt &gt; function is called</div></div>
<div class="ttc" id="anumerical__algorithms__0_8txt_html_a852a1e245dd2de4943eeb66beeaf65b1"><div class="ttname"><a href="numerical__algorithms__0_8txt.html#a852a1e245dd2de4943eeb66beeaf65b1">vector</a></div><div class="ttdeci">****This module groups a diverse set of classes that generally implement some sort of numerical algorithm on top all the basic and finite element classes in the library They are generally unconnected to each other *Some of the like KellyErrorEstimator and act on solutions already and compute derived quantities in the first two or help transferring a set of vectors from one mesh to another *The namespaces and VectorTools provide an assortment of such as creating a Laplace projecting or interpolating a function onto the present finite element etc The difference to the functions in the DoFTools and FETools functions is that they work on the DoFTools functions only act on a given DoFHandler object without reference to a data vector</div><div class="ttdef"><b>Definition:</b> <a href="numerical__algorithms__0_8txt_source.html#l00008">numerical_algorithms_0.txt:8</a></div></div>
<div class="ttc" id="anamespaceLAPACKSupport_html_a8cac1e477eff052db622c8a9a9426ea3"><div class="ttname"><a href="namespaceLAPACKSupport.html#a8cac1e477eff052db622c8a9a9426ea3">LAPACKSupport::T</a></div><div class="ttdeci">static const char T</div><div class="ttdef"><b>Definition:</b> <a href="lac_2lapack__support_8h_source.html#l00177">lapack_support.h:177</a></div></div>
<div class="ttc" id="aclassThreads_1_1ThreadLocalStorage_html_aac03908f960edb905d3354286d76a03d"><div class="ttname"><a href="classThreads_1_1ThreadLocalStorage.html#aac03908f960edb905d3354286d76a03d">Threads::ThreadLocalStorage::operator=</a></div><div class="ttdeci">ThreadLocalStorage &amp; operator=(const ThreadLocalStorage &amp;t)</div></div>
<div class="ttc" id="aconfig_8h_html_a37029dc5bac94f70ea13386b692956b6"><div class="ttname"><a href="config_8h.html#a37029dc5bac94f70ea13386b692956b6">DEAL_II_NAMESPACE_OPEN</a></div><div class="ttdeci">#define DEAL_II_NAMESPACE_OPEN</div><div class="ttdef"><b>Definition:</b> <a href="config_8h_source.html#l00398">config.h:398</a></div></div>
<div class="ttc" id="aA-headers_2exceptions__0_8txt_html_af85863b31be0cbd660acba99051e0634"><div class="ttname"><a href="A-headers_2exceptions__0_8txt.html#af85863b31be0cbd660acba99051e0634">data</a></div><div class="ttdeci">****This module contains classes that are used in the exception mechanism of deal II **Exceptions are used in two different not in static assertions are typically used to check that parameters to functions satisfy certain that internal data structures are and similar assertions For static assertions are used to make sure that two vectors that are added together have the same number of components **everything else would not make any sense anyway *Such checks are performed by the[2.x.3] macro in several thousand places within the library several tutorial programs starting with[2.x.4] show how to do this *If static a assertion is the exception mechanism generates an exception of a type that indicates what exactly goes wrong displays appropriate information including the exact location where the problem was detected and then aborts the program **if you try to add two vectors of different there is nothing that can be done within the program to cope with the you have to go fix the program code instead There is generally not even a reason to[2.x.5] an exception object using the usual C exception mechanism because there is nothing a function higher up could do in such cases to rectify the situation and deal with it in a useful way **it s not that the program received bad data</div><div class="ttdef"><b>Definition:</b> <a href="A-headers_2exceptions__0_8txt_source.html#l00015">exceptions_0.txt:15</a></div></div>
<div class="ttc" id="aautomatic__and__symbolic__differentiation__0_8txt_html_ac5d1c63883bb2a85710935e76a7dedd4"><div class="ttname"><a href="automatic__and__symbolic__differentiation__0_8txt.html#ac5d1c63883bb2a85710935e76a7dedd4">it</a></div><div class="ttdeci">******to automatic and symbolic differentiation *Below we provide a very brief introduction as to what automatic and symbolic differentiation what variations of these computational numerical schemes and how they are integrated within deal II s framework The purpose of all of these schemes is to automatically compute the derivative of or approximations of it</div><div class="ttdef"><b>Definition:</b> <a href="automatic__and__symbolic__differentiation__0_8txt_source.html#l00010">automatic_and_symbolic_differentiation_0.txt:10</a></div></div>
<div class="ttc" id="aclassThreads_1_1ThreadLocalStorage_html_ab53bcf22d1ce5cdff8fcab775a7a0e44"><div class="ttname"><a href="classThreads_1_1ThreadLocalStorage.html#ab53bcf22d1ce5cdff8fcab775a7a0e44">Threads::ThreadLocalStorage::data</a></div><div class="ttdeci">std::map&lt; std::thread::id, T &gt; data</div><div class="ttdef"><b>Definition:</b> <a href="base_2thread__local__storage_8h_source.html#l00235">thread_local_storage.h:235</a></div></div>
<div class="ttc" id="ainclude_2deal_8II_2base_2exceptions_8h_html"><div class="ttname"><a href="include_2deal_8II_2base_2exceptions_8h.html">exceptions.h</a></div></div>
<div class="ttc" id="aclassThreads_1_1ThreadLocalStorage_html_a559c730cfc9a6d00b330761ff10fc896"><div class="ttname"><a href="classThreads_1_1ThreadLocalStorage.html#a559c730cfc9a6d00b330761ff10fc896">Threads::ThreadLocalStorage::get</a></div><div class="ttdeci">T &amp; get()</div></div>
<div class="ttc" id="atable__0_8txt_html_a7f24305532768edc889062eefd4b28cf"><div class="ttname"><a href="table__0_8txt.html#a7f24305532768edc889062eefd4b28cf">clear</a></div><div class="ttdeci">examples are data tables that are loaded at start up time and then used over the course of the run time of the program In such the start up cost of running this function can be amortized over and the potential memory savings from not having to store the table on each process may be substantial on machines with large core counts on which many MPI processes run on the same machine *This function only makes sense if the data type T is self i all of its information is stored in its member and if none of the member variables are pointers to other parts of the memory This is because if a type T does have pointers to other parts of then moving T into a shared memory space does not result in the other processes having access to data that the object points to with its member variable and are typically in memory areas not accessible to the other processes As a the usual use case for this function is to share arrays of simple objects such as double s or int s *After calling this objects on different MPI processes share a common state That means that certain operations become i they must be called on all participating processors at the same time In you can no longer call or clear() on one MPI process **- you have to do so on all processes at the same time</div></div>
<div class="ttc" id="aclassThreads_1_1ThreadLocalStorage_html_a09bc8f706128e564b421fe8b53e23eda"><div class="ttname"><a href="classThreads_1_1ThreadLocalStorage.html#a09bc8f706128e564b421fe8b53e23eda">Threads::ThreadLocalStorage::clear</a></div><div class="ttdeci">void clear()</div></div>
<div class="ttc" id="aclassLogStream_html"><div class="ttname"><a href="classLogStream.html">LogStream</a></div><div class="ttdef"><b>Definition:</b> <a href="base_2logstream_8h_source.html#l00054">logstream.h:54</a></div></div>
<div class="ttc" id="aconfig_8h_html"><div class="ttname"><a href="config_8h.html">config.h</a></div></div>
<div class="ttc" id="agrid__out__0_8txt_html_a00ec19d78666d877282fbbbf0b53ab49"><div class="ttname"><a href="grid__out__0_8txt.html#a00ec19d78666d877282fbbbf0b53ab49">id</a></div><div class="ttdeci">they then have a template as usual ********Declaration of a name for each of the different output formats These are used by the generic output function resp Not implemented for the codimension one case **Write the triangulation in the gnuplot format In GNUPLOT each cell is written as a sequence of its confining lines Apart from the coordinates of the lines end the level and the material of the cell are appended to each line of output if you let GNUPLOT draw a grid as a you will see more refined cells being raised against cells with less refinement if you draw a cut through a you can extrude the refinement level in the direction orthogonal to the cut plane The same can be done with the material id</div><div class="ttdef"><b>Definition:</b> <a href="grid__out__0_8txt_source.html#l00288">grid_out_0.txt:288</a></div></div>
<div class="ttc" id="anamespaceinternal_html"><div class="ttname"><a href="namespaceinternal.html">internal</a></div><div class="ttdef"><b>Definition:</b> <a href="base_2aligned__vector_8h_source.html#l00471">aligned_vector.h:471</a></div></div>
<div class="ttc" id="achunk__sparsity__pattern__0_8txt_html_a42a93693e0eb71f36614c2b7062883ec"><div class="ttname"><a href="chunk__sparsity__pattern__0_8txt.html#a42a93693e0eb71f36614c2b7062883ec">exists</a></div><div class="ttdeci">&lt;/tt &gt; with&lt; tt &gt; v&lt;/tt &gt; a vector of ChunkSparsityPattern objects it is sufficient to use the keyword to disallow unwanted but this does not work for[2.x.6] Since copying a structure like this is not useful anyway because multiple matrices can use the same sparsity copies are only allowed for empty as described above **Initialize a rectangular matrix[2.x.7] m number of rows[2.x.8] n number of columns[2.x.9] max_per_row maximum number of nonzero entries per row **Initialize a rectangular matrix[2.x.10] m number of rows[2.x.11] n number of columns[2.x.12] row_lengths possible number of nonzero entries for each row This vector must have one entry for each row **Initialize a quadratic matrix of dimension&lt; tt &gt; n&lt;/tt &gt; with at most&lt; tt &gt; max_per_row&lt;/tt &gt; nonzero entries per row This constructor automatically enables optimized storage of diagonal elements To avoid use the constructor taking row and column numbers separately **Initialize a quadratic matrix[2.x.13] m number of rows and columns[2.x.14] row_lengths possible number of nonzero entries for each row This vector must have one entry for each row **Destructor **Copy subsequent calls to note that a sparse matrix can be described by a sequence of each of which is represented by a sequence of pairs of column indices and values In the present the one representing one row The distance between or any other iterator satisfying the requirements of a forward iterator The objects pointed to by these or simply an through some template magic While the order of the outer iterators denotes the different rows of the the order of the inner iterator denoting the columns does not as they are sorted internal to this function anyway Since that all sounds very consider the following example which may be used to fill a sparsity where we initialize a whole not only a sparsity the first of which we take as column index As the outer[2.x.21] could be replaced by[2.x.22] and the inner[2.x.23] could be replaced by[2.x.24]&lt;/tt &gt; or a list or set of such as they all return iterators that point to such pairs **Copy data from an object of type DynamicSparsityPattern Previous content of this object is and the sparsity pattern is in compressed mode afterwards **Take a full matrix and use its nonzero entries to generate a sparse matrix entry pattern for this object Previous content of this object is and the sparsity pattern is in compressed mode afterwards **Set the sparsity pattern of the chunk sparsity pattern to be given by&lt; tt &gt; chunk_size *chunksize&lt;/tt &gt; blocks of the sparsity pattern for chunks specified Note that the final number of rows&lt; tt &gt; m&lt;/tt &gt; of the sparsity pattern will be approximately&lt; tt &gt; sparsity_pattern_for_chunks and the sparsity pattern is in compressed mode afterwards **Return whether the object is empty It is empty if no memory is which is the same as that both dimensions are zero **Return the chunk size given as argument when constructing this object **Return the maximum number of entries per row Before this equals the number given to the while after it equals the maximum number of entries actually allocated by the user **Add a nonzero entry to the matrix This function may only be called for non compressed sparsity patterns If the entry already exists</div><div class="ttdef"><b>Definition:</b> <a href="chunk__sparsity__pattern__0_8txt_source.html#l00116">chunk_sparsity_pattern_0.txt:116</a></div></div>
<div class="ttc" id="achunk__sparse__matrix__0_8txt_html_aa747ba884f098177e9bf2b2422a461a9"><div class="ttname"><a href="chunk__sparse__matrix__0_8txt.html#aa747ba884f098177e9bf2b2422a461a9">operator=</a></div><div class="ttdeci">namespace in which we declare iterators over the elements of sparse matrices ***General template for sparse matrix accessors The first template argument denotes the underlying numeric the second the constness of the matrix The general template is not only the specializations for the two possible values of the second template argument the interface listed here only serves as a template provided since doxygen does not link the specializations **Value of this matrix entry **Value of this matrix entry **Return a reference to the matrix into which this accessor points Note that in the present this is a constant reference **Accessor class for constant matrices used in the const_iterators This class builds on the accessor classes used for sparsity patterns to loop over all nonzero entries and only adds the accessor functions to gain access to the actual value stored at a certain location **Typedef for the this is a constant reference **Pointer to the matrix we use **Make the advance function of the base class available **Accessor class for non constant matrices used in the iterators This class builds on the accessor classes used for sparsity patterns to loop over all nonzero entries and only adds the accessor functions to gain access to the actual value stored at a certain location **Reference class This is what the accessor class returns when you call the i e you can read and write you can add and multiply to but since the matrix does not give away the address of this matrix we have to go through functions to do all this The constructor takes a pointer to an accessor object that describes which element of the matrix it points to This creates an ambiguity when one writes code like iterator since the right hand side is an integer that can both be converted to a&lt; tt &gt; adding another overload operator=(int) doesn 't seem to cure the problem. We avoid it</div></div>
<div class="ttc" id="aconfig_8h_html_a998f224639942da0567cbd1ec77913b7"><div class="ttname"><a href="config_8h.html#a998f224639942da0567cbd1ec77913b7">DEAL_II_NAMESPACE_CLOSE</a></div><div class="ttdeci">#define DEAL_II_NAMESPACE_CLOSE</div><div class="ttdef"><b>Definition:</b> <a href="config_8h_source.html#l00399">config.h:399</a></div></div>
<div class="ttc" id="aparticle__iterator__0_8txt_html_a4d3026e3255eb1491e5e2b42b4df4165"><div class="ttname"><a href="particle__iterator__0_8txt.html#a4d3026e3255eb1491e5e2b42b4df4165">get_id</a></div><div class="ttdeci">*A class that is used to iterate over particles Together with the ParticleAccessor class this is used to hide the internal implementation of the particle class and the particle container **Empty constructor Such an object is not usable **Constructor of the iterator Takes a reference to the particle and an iterator to the cell particle pair **Dereferencing operator,returns a reference to an accessor. Usage is thus like&lt; tt &gt; i get_id()</div></div>
<div class="ttc" id="afunctions__0_8txt_html_af9f808a82e8c618e2e7a19dd08a9eae3"><div class="ttname"><a href="functions__0_8txt.html#af9f808a82e8c618e2e7a19dd08a9eae3">value</a></div><div class="ttdeci">****Functions are used in various places in deal for example to describe boundary coefficients in forcing or exact solutions Since closed form expressions for equations are often hard to pass along as function deal II uses the Function base class to describe these objects Essentially the interface of this base class requires derived classes to implement the ability to return the value of a function at one or a list of particular locations and function objects can then be used by algorithms like[2.x.1][2.x.2] and other functions *Some functions are needed again and and are therefore already provided in deal II This includes a function with a constant value</div><div class="ttdef"><b>Definition:</b> <a href="functions__0_8txt_source.html#l00007">functions_0.txt:7</a></div></div>
<div class="ttc" id="anamespaceThreads_html"><div class="ttname"><a href="namespaceThreads.html">Threads</a></div><div class="ttdef"><b>Definition:</b> <a href="base_2thread__local__storage_8h_source.html#l00040">thread_local_storage.h:40</a></div></div>
<div class="ttc" id="aqprojector__0_8txt_html_ab2b97809f2ec2ec2ad831b4e6457d283"><div class="ttname"><a href="qprojector__0_8txt.html#ab2b97809f2ec2ec2ad831b4e6457d283">get</a></div><div class="ttdeci">*This class is a helper class to facilitate the usage of quadrature formulae on faces or subfaces of cells It computes the locations of quadrature points on the unit cell from a quadrature object for a manifold of one dimension less than that of the cell and the number of the face For example giving the Simpson rule in one dimension and using the the returned points will so when projecting to you will get(0, 0)</div></div>
<div class="ttc" id="aany__data__0_8txt_html_a19ab1003fb0826e8e4d596df81fd7f84"><div class="ttname"><a href="any__data__0_8txt.html#a19ab1003fb0826e8e4d596df81fd7f84">type</a></div><div class="ttdeci">*Store any amount of any type of data accessible by an identifier string try to convert it to&lt; tt &gt; type&lt;/tt &gt; and return it This function throws an exception if either the name does not exist or if the conversion fails If such an exception is not desired use try to convert it to&lt; tt &gt; type&lt;/tt &gt; and return it This function throws an exception if either the name does not exist or if the conversion fails If such an exception is not desired use this function equals it forces read only access to the data In it throws an exception if the object is not found or cannot be converted to type If such an exception is not desired use the logic of access becomes fairly complicated the standard read function may depending on whether it was const a pointer or a regular pointer This function fixes the logic and ascertains that the object does not become by accident **Perform the same action as but do not throw an exception if the pointer does not exist Return a null pointer instead ***This function tries to find the name in the list and return a pointer to the associated object If either the name is not found or the object cannot be converted to the return type</div><div class="ttdef"><b>Definition:</b> <a href="any__data__0_8txt_source.html#l00022">any_data_0.txt:22</a></div></div>
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
