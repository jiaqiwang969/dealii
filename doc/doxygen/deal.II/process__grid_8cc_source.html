<!-- HTML header for doxygen 1.8.17-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="canonical" href="https://www.dealii.org/current/doxygen/deal.II/process__grid_8cc_source.html" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The deal.II Library: source/base/process_grid.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link rel="SHORTCUT ICON" href="deal.ico"></link>
<script type="text/javascript" src="custom.js"></script>
<meta name="author" content="The deal.II Authors <authors@dealii.org>"></meta>
<meta name="copyright" content="Copyright (C) 1998 - 2021 by the deal.II authors"></meta>
<meta name="deal.II-version" content="10.0.0-pre"></meta>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo200.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber">Reference documentation for deal.II version 10.0.0-pre</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!--Extra macros for MathJax:-->
<div style="display:none">
\(\newcommand{\dealvcentcolon}{\mathrel{\mathop{:}}}\)
\(\newcommand{\dealcoloneq}{\dealvcentcolon\mathrel{\mkern-1.2mu}=}\)
\(\newcommand{\jump}[1]{\left[\!\left[ #1 \right]\!\right]}\)
\(\newcommand{\average}[1]{\left\{\!\left\{ #1 \right\}\!\right\}}\)
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="dir_03ac4680c0d790f1da23c9de4fcee0bb.html">base</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">process_grid.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="process__grid_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// ---------------------------------------------------------------------</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Copyright (C) 2017 - 2020 by the deal.II authors</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is part of the deal.II library.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// The deal.II library is free software; you can use it, redistribute</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// it, and/or modify it under the terms of the GNU Lesser General</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// Public License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// The full text of the license can be found in the file LICENSE.md at</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// the top level directory of deal.II.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// ---------------------------------------------------------------------</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="base_2process__grid_8h.html">deal.II/base/process_grid.h</a>&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#ifdef DEAL_II_WITH_SCALAPACK</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#  include &lt;deal.II/lac/scalapack.templates.h&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<a class="code" href="config_8h.html#a37029dc5bac94f70ea13386b692956b6">DEAL_II_NAMESPACE_OPEN</a></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">namespace</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;{</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keyword">inline</span> std::pair&lt;int, int&gt;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  compute_processor_grid_sizes(<span class="keyword">const</span> MPI_Comm &amp;   mpi_comm,</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                               <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="block__sparse__matrix__ez__0_8txt.html#af734f4df74ac4822dd99a6cca7203600">m</a>,</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                               <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="petsc__matrix__base__0_8txt.html#a5a1b8b75c93e6ea5e27829c4fe862a8e">n</a>,</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                               <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> block_size_m,</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                               <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> block_size_n)</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="comment">// Few notes from the ScaLAPACK user guide:</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="comment">// It is possible to predict the best grid shape given the number of</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="comment">// processes available: Pr x Pc &lt;= P This, however, depends on the task to</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="comment">// be done. LU , QR and QL factorizations perform better for “flat” process</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">// grids (Pr &lt; Pc ) For large N, Pc = 2*Pr is a good choice, whereas for</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="comment">// small N, one should choose small Pr Square or near square grids are more</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="comment">// optimal for Cholesky factorization. LQ and RQ factorizations take</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="comment">// advantage of “tall” grids (Pr &gt; Pc )</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">// Below we always try to create 2D processor grids:</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> n_processes = <a class="code" href="namespaceUtilities_1_1MPI.html#ac26de0c059200523177bb1d92cc25d00">Utilities::MPI::n_mpi_processes</a>(mpi_comm);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">// Get the total number of cores we can occupy in a rectangular dense matrix</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="comment">// with rectangular blocks when every core owns only a single block:</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> n_processes_heuristic = <a class="code" href="table__handler__0_8txt.html#aa02519610f643695a6a4f66c4062392a">int</a>(<a class="code" href="namespaceDifferentiation_1_1SD.html#a6545410ba18556ebf7c478b6ad9939f6">std::ceil</a>((1. * <a class="code" href="block__sparse__matrix__ez__0_8txt.html#af734f4df74ac4822dd99a6cca7203600">m</a>) / block_size_m)) *</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                                      <a class="code" href="table__handler__0_8txt.html#aa02519610f643695a6a4f66c4062392a">int</a>(<a class="code" href="namespaceDifferentiation_1_1SD.html#a6545410ba18556ebf7c478b6ad9939f6">std::ceil</a>((1. * <a class="code" href="petsc__matrix__base__0_8txt.html#a5a1b8b75c93e6ea5e27829c4fe862a8e">n</a>) / block_size_n));</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> Np = <a class="code" href="namespaceVectorTools_1_1EvaluationFlags.html#ac6721740e24732d6afabcf28ddfc1ffdaeae4878b1e562785c1c196238a3f14e0">std::min</a>(n_processes_heuristic, n_processes);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// Now we need to split Np into  Pr x Pc. Assume we know the shape/ratio</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">// Pc =: ratio * Pr</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">// therefore</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">// Np = Pc * Pc / ratio</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// for quadratic matrices the ratio equals 1</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> ratio = <a class="code" href="hdf5__0_8txt.html#aae153b86de45d3354cd3edd5b992435e">double</a>(<a class="code" href="petsc__matrix__base__0_8txt.html#a5a1b8b75c93e6ea5e27829c4fe862a8e">n</a>) / <a class="code" href="block__sparse__matrix__ez__0_8txt.html#af734f4df74ac4822dd99a6cca7203600">m</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordtype">int</span>          Pc    = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="solver__cg__0_8txt.html#a557c71e94a2542d697ca3426b8843cd4">std::sqrt</a>(ratio * Np));</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// one could rounds up Pc to the number which has zero remainder from the</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// division of Np while ( Np % Pc != 0 )</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment">//  ++Pc;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// but this affects the grid shape dramatically, i.e. 10 cores 3x3 becomes</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="comment">// 2x5.</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// limit our estimate to be in [2, Np]</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordtype">int</span> n_process_columns = <a class="code" href="namespaceVectorTools_1_1EvaluationFlags.html#ac6721740e24732d6afabcf28ddfc1ffdaeae4878b1e562785c1c196238a3f14e0">std::min</a>(Np, <a class="code" href="namespaceVectorTools_1_1EvaluationFlags.html#ac6721740e24732d6afabcf28ddfc1ffdabaecdd1343aae63b652a2edeab0c19f9">std::max</a>(2, Pc));</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">// finally, get the rows:</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordtype">int</span> n_process_rows = Np / n_process_columns;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="group__Exceptions.html#ga70a0bb353656e704acf927945277bbc6">Assert</a>(n_process_columns &gt;= 1 &amp;&amp; n_process_rows &gt;= 1 &amp;&amp;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;             n_processes &gt;= n_process_rows * n_process_columns,</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;           <a class="code" href="group__Exceptions.html#gae9a45f517af1401c50811a11083f9114">ExcMessage</a>(</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;             <span class="stringliteral">&quot;error in process grid: &quot;</span> + <a class="code" href="group__Exceptions.html#ga72743302dcb1a0fb1f2f8dc5122d299e">std::to_string</a>(n_process_rows) + <span class="stringliteral">&quot;x&quot;</span> +</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;             <a class="code" href="group__Exceptions.html#ga72743302dcb1a0fb1f2f8dc5122d299e">std::to_string</a>(n_process_columns) + <span class="stringliteral">&quot;=&quot;</span> +</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;             <a class="code" href="group__Exceptions.html#ga72743302dcb1a0fb1f2f8dc5122d299e">std::to_string</a>(n_process_rows * n_process_columns) + <span class="stringliteral">&quot; out of &quot;</span> +</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;             <a class="code" href="group__Exceptions.html#ga72743302dcb1a0fb1f2f8dc5122d299e">std::to_string</a>(n_processes)));</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">return</span> std::make_pair(n_process_rows, n_process_columns);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// For example,</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// 320x320 with 32x32 blocks and 16 cores:</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">// Pc = 1.0 * Pr  =&gt; 4x4 grid</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">// Pc = 0.5 * Pr  =&gt; 8x2 grid</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// Pc = 2.0 * Pr  =&gt; 3x5 grid</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;} <span class="comment">// namespace</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceUtilities.html">Utilities</a></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keyword">namespace </span><a class="code" href="base_2partitioner__0_8txt.html#a6d2d0fa485d1660823c59c494fb0fb31">MPI</a></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  {</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classUtilities_1_1MPI_1_1ProcessGrid.html#ae0080fd5177eef50a98ca51460952468">  103</a></span>&#160;    <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a3891d4e545cfaf2fb507b02c851f6a83">ProcessGrid::ProcessGrid</a>(</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="keyword">const</span> MPI_Comm &amp;                             mpi_comm,</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="keyword">const</span> std::pair&lt;unsigned int, unsigned int&gt; &amp;grid_dimensions)</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      : mpi_communicator(mpi_comm)</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      , <a class="code" href="namespaceUtilities_1_1MPI.html#a895dcd8223a0ee6f0e6a80b80e2d5982">this_mpi_process</a>(<a class="code" href="namespaceUtilities.html">Utilities</a>::<a class="code" href="base_2partitioner__0_8txt.html#a6d2d0fa485d1660823c59c494fb0fb31">MPI</a>::<a class="code" href="namespaceUtilities_1_1MPI.html#a895dcd8223a0ee6f0e6a80b80e2d5982">this_mpi_process</a>(mpi_communicator))</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      , <a class="code" href="namespaceUtilities_1_1MPI.html#ac26de0c059200523177bb1d92cc25d00">n_mpi_processes</a>(<a class="code" href="namespaceUtilities.html">Utilities</a>::<a class="code" href="base_2partitioner__0_8txt.html#a6d2d0fa485d1660823c59c494fb0fb31">MPI</a>::<a class="code" href="namespaceUtilities_1_1MPI.html#ac26de0c059200523177bb1d92cc25d00">n_mpi_processes</a>(mpi_communicator))</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      , n_process_rows(grid_dimensions.<a class="code" href="automatic__and__symbolic__differentiation__0_8txt.html#a06f24e4861fb115188fd2a8027e7b407">first</a>)</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      , n_process_columns(grid_dimensions.<a class="code" href="data__out__base__0_8txt.html#a4baf3a79030f53d8ecd9bd4e5a688bbb">second</a>)</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <a class="code" href="group__Exceptions.html#ga70a0bb353656e704acf927945277bbc6">Assert</a>(grid_dimensions.first &gt; 0,</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;             <a class="code" href="group__Exceptions.html#gae9a45f517af1401c50811a11083f9114">ExcMessage</a>(<span class="stringliteral">&quot;Number of process grid rows has to be positive.&quot;</span>));</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      <a class="code" href="group__Exceptions.html#ga70a0bb353656e704acf927945277bbc6">Assert</a>(grid_dimensions.second &gt; 0,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;             <a class="code" href="group__Exceptions.html#gae9a45f517af1401c50811a11083f9114">ExcMessage</a>(<span class="stringliteral">&quot;Number of process grid columns has to be positive.&quot;</span>));</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <a class="code" href="group__Exceptions.html#ga70a0bb353656e704acf927945277bbc6">Assert</a>(</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        grid_dimensions.first * grid_dimensions.second &lt;= <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a973acef39024654ef232aa429162017b">n_mpi_processes</a>,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <a class="code" href="group__Exceptions.html#gae9a45f517af1401c50811a11083f9114">ExcMessage</a>(</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;          <span class="stringliteral">&quot;Size of process grid is larger than number of available MPI processes.&quot;</span>));</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      <span class="comment">// processor grid order.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">bool</span> column_major = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      <span class="comment">// Initialize Cblas context from the provided communicator</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a19a68420b72fdfa894a72f9b4227f185">blacs_context</a>     = Csys2blacs_handle(<a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a008060e7491aa63e8038f6098b1908e4">mpi_communicator</a>);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="automatic__and__symbolic__differentiation__0_8txt.html#a65afd93d8c47d4e8bc413fa1fac7fa83">order</a> = (column_major ? <span class="stringliteral">&quot;Col&quot;</span> : <span class="stringliteral">&quot;Row&quot;</span>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <span class="comment">// Note that blacs_context can be modified below. Thus Cblacs2sys_handle</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <span class="comment">// may not return the same MPI communicator.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      Cblacs_gridinit(&amp;<a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a19a68420b72fdfa894a72f9b4227f185">blacs_context</a>, <a class="code" href="automatic__and__symbolic__differentiation__0_8txt.html#a65afd93d8c47d4e8bc413fa1fac7fa83">order</a>, <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a42d55dce1eab485a34542e878521531c">n_process_rows</a>, <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#ad5bdd2edf819da15946e5a885f031637">n_process_columns</a>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="comment">// Blacs may modify the grid size on processes which are not used</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="comment">// in the grid. So provide copies below:</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <span class="keywordtype">int</span> procrows_ = <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a42d55dce1eab485a34542e878521531c">n_process_rows</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="keywordtype">int</span> proccols_ = <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#ad5bdd2edf819da15946e5a885f031637">n_process_columns</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      Cblacs_gridinfo(<a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a19a68420b72fdfa894a72f9b4227f185">blacs_context</a>,</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                      &amp;procrows_,</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                      &amp;proccols_,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                      &amp;<a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a03fd9fa883b90197098768bc0fbfe393">this_process_row</a>,</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                      &amp;<a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#ad8195b4fcc553d99c4ff518ce034cea9">this_process_column</a>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="comment">// If this MPI core is not on the grid, flag it as inactive and</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="comment">// skip all jobs</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="comment">// Note that a different condition is used in FORTRAN code here</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="comment">// https://stackoverflow.com/questions/18516915/calling-blacs-with-more-processes-than-used</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a03fd9fa883b90197098768bc0fbfe393">this_process_row</a> &lt; 0 || <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#ad8195b4fcc553d99c4ff518ce034cea9">this_process_column</a> &lt; 0)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a33e44f95324f6b9da58cd73ad20c1b0b">mpi_process_is_active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a33e44f95324f6b9da58cd73ad20c1b0b">mpi_process_is_active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="comment">// Create an auxiliary communicator which has root and all inactive cores.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="comment">// Assume that inactive cores start with</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="comment">// id=n_process_rows*n_process_columns</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_active_mpi_processes =</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a42d55dce1eab485a34542e878521531c">n_process_rows</a> * <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#ad5bdd2edf819da15946e5a885f031637">n_process_columns</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <a class="code" href="group__Exceptions.html#ga70a0bb353656e704acf927945277bbc6">Assert</a>(<a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a33e44f95324f6b9da58cd73ad20c1b0b">mpi_process_is_active</a> ||</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;               <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#afaa87b4956b0249162a34b7965b3c784">this_mpi_process</a> &gt;= n_active_mpi_processes,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;             <a class="code" href="group__Exceptions.html#ga31978c026b8b6b5116df30b8e748f6b7">ExcInternalError</a>());</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      std::vector&lt;int&gt; inactive_with_root_ranks;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      inactive_with_root_ranks.push_back(0);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="polynomial__0_8txt.html#af1258c87f1d73d29bd17331843ac1d25">i</a> = n_active_mpi_processes; <a class="code" href="polynomial__0_8txt.html#af1258c87f1d73d29bd17331843ac1d25">i</a> &lt; <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a973acef39024654ef232aa429162017b">n_mpi_processes</a>; ++<a class="code" href="polynomial__0_8txt.html#af1258c87f1d73d29bd17331843ac1d25">i</a>)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        inactive_with_root_ranks.push_back(<a class="code" href="polynomial__0_8txt.html#af1258c87f1d73d29bd17331843ac1d25">i</a>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="comment">// Get the group of processes in mpi_communicator</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <span class="keywordtype">int</span>       ierr = 0;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      MPI_Group all_group;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      ierr = MPI_Comm_group(<a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a008060e7491aa63e8038f6098b1908e4">mpi_communicator</a>, &amp;all_group);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <a class="code" href="group__Exceptions.html#ga9677b6d6fb5a89c8b7778bb8b13314e4">AssertThrowMPI</a>(ierr);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="comment">// Construct the group containing all ranks we need:</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      MPI_Group inactive_with_root_group;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="petsc__matrix__base__0_8txt.html#a5a1b8b75c93e6ea5e27829c4fe862a8e">n</a> = inactive_with_root_ranks.size();</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      ierr        = MPI_Group_incl(all_group,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                            <a class="code" href="petsc__matrix__base__0_8txt.html#a5a1b8b75c93e6ea5e27829c4fe862a8e">n</a>,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                            inactive_with_root_ranks.data(),</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                            &amp;inactive_with_root_group);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <a class="code" href="group__Exceptions.html#ga9677b6d6fb5a89c8b7778bb8b13314e4">AssertThrowMPI</a>(ierr);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="comment">// Create the communicator based on inactive_with_root_group.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="comment">// Note that on all the active MPI processes (except for the one with</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <span class="comment">// rank 0) the resulting MPI_Comm mpi_communicator_inactive_with_root</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <span class="comment">// will be MPI_COMM_NULL.</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> mpi_tag =</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <a class="code" href="namespaceUtilities_1_1MPI_1_1internal_1_1Tags.html#a1c190e50dabbd9b60e230b843c6caa44a92c1214e27e21d464b81cb7e5de4ea3d">Utilities::MPI::internal::Tags::process_grid_constructor</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      ierr = <a class="code" href="namespaceUtilities_1_1MPI.html#af71d4b9497936fedf1398c0b6fba2ee7">Utilities::MPI::create_group</a>(<a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a008060e7491aa63e8038f6098b1908e4">mpi_communicator</a>,</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                          inactive_with_root_group,</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                                          mpi_tag,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                                          &amp;<a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a52f9cdeea2b23224c0e7c736e19b16be">mpi_communicator_inactive_with_root</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <a class="code" href="group__Exceptions.html#ga9677b6d6fb5a89c8b7778bb8b13314e4">AssertThrowMPI</a>(ierr);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      ierr = MPI_Group_free(&amp;all_group);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <a class="code" href="group__Exceptions.html#ga9677b6d6fb5a89c8b7778bb8b13314e4">AssertThrowMPI</a>(ierr);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      ierr = MPI_Group_free(&amp;inactive_with_root_group);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <a class="code" href="group__Exceptions.html#ga9677b6d6fb5a89c8b7778bb8b13314e4">AssertThrowMPI</a>(ierr);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="comment">// Double check that the process with rank 0 in subgroup is active:</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="preprocessor">#  ifdef DEBUG</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a52f9cdeea2b23224c0e7c736e19b16be">mpi_communicator_inactive_with_root</a> != MPI_COMM_NULL &amp;&amp;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;          <a class="code" href="namespaceUtilities_1_1MPI.html#a895dcd8223a0ee6f0e6a80b80e2d5982">Utilities::MPI::this_mpi_process</a>(</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a52f9cdeea2b23224c0e7c736e19b16be">mpi_communicator_inactive_with_root</a>) == 0)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <a class="code" href="group__Exceptions.html#ga70a0bb353656e704acf927945277bbc6">Assert</a>(<a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a33e44f95324f6b9da58cd73ad20c1b0b">mpi_process_is_active</a>, <a class="code" href="group__Exceptions.html#ga31978c026b8b6b5116df30b8e748f6b7">ExcInternalError</a>());</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="classUtilities_1_1MPI_1_1ProcessGrid.html#ac11746e2757eb020436f215f28919b8a">  209</a></span>&#160;    <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a3891d4e545cfaf2fb507b02c851f6a83">ProcessGrid::ProcessGrid</a>(<span class="keyword">const</span> MPI_Comm &amp;   mpi_comm,</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_rows_matrix,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_columns_matrix,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row_block_size,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> column_block_size)</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      : <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html">ProcessGrid</a>(mpi_comm,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                    compute_processor_grid_sizes(mpi_comm,</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                                                 n_rows_matrix,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                                                 n_columns_matrix,</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                                 row_block_size,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                                                 column_block_size))</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    {}</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a3891d4e545cfaf2fb507b02c851f6a83">  224</a></span>&#160;    <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a3891d4e545cfaf2fb507b02c851f6a83">ProcessGrid::ProcessGrid</a>(<span class="keyword">const</span> MPI_Comm &amp;   mpi_comm,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="tensor__product__kernels__0_8txt.html#ac9be14b95309fbebbb45e29cc384188c">n_rows</a>,</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_columns)</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      : <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html">ProcessGrid</a>(mpi_comm, std::make_pair(<a class="code" href="tensor__product__kernels__0_8txt.html#ac9be14b95309fbebbb45e29cc384188c">n_rows</a>, n_columns))</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    {}</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="classUtilities_1_1MPI_1_1ProcessGrid.html#ac77b6a9e7c63bbd3cdef7a60dcb6da82">  232</a></span>&#160;    <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#ac77b6a9e7c63bbd3cdef7a60dcb6da82">ProcessGrid::~ProcessGrid</a>()</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a33e44f95324f6b9da58cd73ad20c1b0b">mpi_process_is_active</a>)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        Cblacs_gridexit(<a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a19a68420b72fdfa894a72f9b4227f185">blacs_context</a>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a52f9cdeea2b23224c0e7c736e19b16be">mpi_communicator_inactive_with_root</a> != MPI_COMM_NULL)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        MPI_Comm_free(&amp;<a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a52f9cdeea2b23224c0e7c736e19b16be">mpi_communicator_inactive_with_root</a>);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> NumberType&gt;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordtype">void</span></div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="classUtilities_1_1MPI_1_1ProcessGrid.html#aa55ca75ad1fbf1988010ef15551a9285">  245</a></span>&#160;    <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#aa55ca75ad1fbf1988010ef15551a9285">ProcessGrid::send_to_inactive</a>(<a class="code" href="classNumberType.html">NumberType</a> *value, <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="tria__accessor_8templates__0_8txt.html#a456453dd94fbd82cfc84e80f1bb9b520">count</a>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <a class="code" href="group__Exceptions.html#ga70a0bb353656e704acf927945277bbc6">Assert</a>(<a class="code" href="tria__accessor_8templates__0_8txt.html#a456453dd94fbd82cfc84e80f1bb9b520">count</a> &gt; 0, <a class="code" href="group__Exceptions.html#ga31978c026b8b6b5116df30b8e748f6b7">ExcInternalError</a>());</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a52f9cdeea2b23224c0e7c736e19b16be">mpi_communicator_inactive_with_root</a> != MPI_COMM_NULL)</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">int</span> ierr =</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            MPI_Bcast(<a class="code" href="functions__0_8txt.html#af9f808a82e8c618e2e7a19dd08a9eae3">value</a>,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                      <a class="code" href="tria__accessor_8templates__0_8txt.html#a456453dd94fbd82cfc84e80f1bb9b520">count</a>,</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                      Utilities::MPI::internal::mpi_type_id(<a class="code" href="functions__0_8txt.html#af9f808a82e8c618e2e7a19dd08a9eae3">value</a>),</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                      0 <span class="comment">/*from root*/</span>,</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                      <a class="code" href="classUtilities_1_1MPI_1_1ProcessGrid.html#a52f9cdeea2b23224c0e7c736e19b16be">mpi_communicator_inactive_with_root</a>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;          <a class="code" href="group__Exceptions.html#ga9677b6d6fb5a89c8b7778bb8b13314e4">AssertThrowMPI</a>(ierr);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  } <span class="comment">// namespace MPI</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;} <span class="comment">// namespace Utilities</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">// instantiations</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="keyword">template</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;Utilities::MPI::ProcessGrid::send_to_inactive&lt;double&gt;(<span class="keywordtype">double</span> *,</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                                                      <span class="keyword">const</span> <span class="keywordtype">int</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="keyword">template</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;Utilities::MPI::ProcessGrid::send_to_inactive&lt;float&gt;(<span class="keywordtype">float</span> *, <span class="keyword">const</span> <span class="keywordtype">int</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="keyword">template</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;Utilities::MPI::ProcessGrid::send_to_inactive&lt;int&gt;(<span class="keywordtype">int</span> *, <span class="keyword">const</span> <span class="keywordtype">int</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<a class="code" href="config_8h.html#a998f224639942da0567cbd1ec77913b7">DEAL_II_NAMESPACE_CLOSE</a></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="preprocessor">#endif // DEAL_II_WITH_SCALAPACK</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="apolynomial__0_8txt_html_af1258c87f1d73d29bd17331843ac1d25"><div class="ttname"><a href="polynomial__0_8txt.html#af1258c87f1d73d29bd17331843ac1d25">i</a></div><div class="ttdeci">namespace in which classes relating to the description of d polynomial spaces are declared ***Base class for all D polynomials A polynomial is represented in this class by its coefficients which are set through the constructor or by derived classes There are two paths for evaluation of polynomials One is based on the coefficients which are evaluated through the Horner scheme which is a robust general purpose scheme An alternative and more stable evaluation of high degree polynomials with roots in the unit interval is provided by a product in terms of the roots This form is available for special polynomials such as Lagrange polynomials or Legendre polynomials and used with the respective constructor To obtain this more stable evaluation form the constructor with the roots in form of a Lagrange polynomial must be used In case a manipulation is done that changes the roots the representation is switched to the coefficient form This class is a typical example of a possible template argument for the TensorProductPolynomials class **Constructor The coefficients of the polynomial are passed as and denote the i e the first element of the array denotes the constant the second the linear and so on The degree of the polynomial represented by this object is thus the number of elements in the&lt; tt &gt; coefficient&lt;/tt &gt; array minus one **Constructor creating a zero polynomial of degree *[2.x.3] *Constructor for a Lagrange polynomial and its point of evaluation The idea is to where j is the evaluation point specified as argument and the support points contain all the evaluation is based on products of the whereas the Horner scheme is used for polynomials in the coefficient form **Return the values and the derivatives of the Polynomial at point&lt; tt &gt; x&lt;/tt &gt;&lt; tt &gt; i</div><div class="ttdef"><b>Definition:</b> <a href="polynomial__0_8txt_source.html#l00024">polynomial_0.txt:24</a></div></div>
<div class="ttc" id="abase_2process__grid_8h_html"><div class="ttname"><a href="base_2process__grid_8h.html">process_grid.h</a></div></div>
<div class="ttc" id="ahdf5__0_8txt_html_aae153b86de45d3354cd3edd5b992435e"><div class="ttname"><a href="hdf5__0_8txt.html#aae153b86de45d3354cd3edd5b992435e">double</a></div><div class="ttdeci">*Namespace containing deal II s HDF5 interface whereas writing and reading raw data in a dataset can be done independently or double</div><div class="ttdef"><b>Definition:</b> <a href="hdf5__0_8txt_source.html#l00045">hdf5_0.txt:45</a></div></div>
<div class="ttc" id="aclassUtilities_1_1MPI_1_1ProcessGrid_html_a973acef39024654ef232aa429162017b"><div class="ttname"><a href="classUtilities_1_1MPI_1_1ProcessGrid.html#a973acef39024654ef232aa429162017b">Utilities::MPI::ProcessGrid::n_mpi_processes</a></div><div class="ttdeci">const unsigned int n_mpi_processes</div><div class="ttdef"><b>Definition:</b> <a href="base_2process__grid_8h_source.html#l00240">process_grid.h:240</a></div></div>
<div class="ttc" id="aclassUtilities_1_1MPI_1_1ProcessGrid_html_a42d55dce1eab485a34542e878521531c"><div class="ttname"><a href="classUtilities_1_1MPI_1_1ProcessGrid.html#a42d55dce1eab485a34542e878521531c">Utilities::MPI::ProcessGrid::n_process_rows</a></div><div class="ttdeci">int n_process_rows</div><div class="ttdef"><b>Definition:</b> <a href="base_2process__grid_8h_source.html#l00246">process_grid.h:246</a></div></div>
<div class="ttc" id="aclassNumberType_html"><div class="ttname"><a href="classNumberType.html">NumberType</a></div></div>
<div class="ttc" id="agroup__Exceptions_html_ga72743302dcb1a0fb1f2f8dc5122d299e"><div class="ttname"><a href="group__Exceptions.html#ga72743302dcb1a0fb1f2f8dc5122d299e">Patterns::Tools::to_string</a></div><div class="ttdeci">std::string to_string(const T &amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="base_2patterns_8h_source.html#l02413">patterns.h:2413</a></div></div>
<div class="ttc" id="aclassUtilities_1_1MPI_1_1ProcessGrid_html_a008060e7491aa63e8038f6098b1908e4"><div class="ttname"><a href="classUtilities_1_1MPI_1_1ProcessGrid.html#a008060e7491aa63e8038f6098b1908e4">Utilities::MPI::ProcessGrid::mpi_communicator</a></div><div class="ttdeci">MPI_Comm mpi_communicator</div><div class="ttdef"><b>Definition:</b> <a href="base_2process__grid_8h_source.html#l00214">process_grid.h:214</a></div></div>
<div class="ttc" id="anamespaceUtilities_1_1MPI_1_1internal_1_1Tags_html_a1c190e50dabbd9b60e230b843c6caa44a92c1214e27e21d464b81cb7e5de4ea3d"><div class="ttname"><a href="namespaceUtilities_1_1MPI_1_1internal_1_1Tags.html#a1c190e50dabbd9b60e230b843c6caa44a92c1214e27e21d464b81cb7e5de4ea3d">Utilities::MPI::internal::Tags::process_grid_constructor</a></div><div class="ttdeci">@ process_grid_constructor</div><div class="ttdoc">ProcessGrid::ProcessGrid.</div><div class="ttdef"><b>Definition:</b> <a href="base_2mpi__tags_8h_source.html#l00183">mpi_tags.h:183</a></div></div>
<div class="ttc" id="asolver__cg__0_8txt_html_a557c71e94a2542d697ca3426b8843cd4"><div class="ttname"><a href="solver__cg__0_8txt.html#a557c71e94a2542d697ca3426b8843cd4">sqrt</a></div><div class="ttdeci">*This class implements the preconditioned Conjugate but is used in many other tutorial programs as well Like all other solver it can work on any kind of vector and matrix as long as they satisfy certain and defaults to *[2.x.2] **This version of CG is taken from D Braess s book Finite Elements It requires a symmetric the projected matrix[2.x.4] is tri diagonal Since the projection is the eigenvalues of[2.x.5] approximate those of the original preconditioned matrix[2.x.6] In after[2.x.7] where[2.x.8] is the dimension of the original the eigenvalues of both matrices are equal even for small numbers of iteration the condition number of[2.x.9] is a good estimate for the one of *[2.x.10] After[2.x.11] steps the matrix T_m can be written in terms of the coefficients[2.x.12] and[2.x.13] as the tri diagonal matrix with diagonal elements&lt; tt &gt;&lt; tt &gt; alpha_1 beta_0&lt; tt &gt;&lt; tt &gt; sqrt(beta_{m-2&lt;/tt &gt;)/alpha_</div><div class="ttdef"><b>Definition:</b> <a href="solver__cg__0_8txt_source.html#l00011">solver_cg_0.txt:11</a></div></div>
<div class="ttc" id="aclassUtilities_1_1MPI_1_1ProcessGrid_html_afaa87b4956b0249162a34b7965b3c784"><div class="ttname"><a href="classUtilities_1_1MPI_1_1ProcessGrid.html#afaa87b4956b0249162a34b7965b3c784">Utilities::MPI::ProcessGrid::this_mpi_process</a></div><div class="ttdeci">const unsigned int this_mpi_process</div><div class="ttdef"><b>Definition:</b> <a href="base_2process__grid_8h_source.html#l00234">process_grid.h:234</a></div></div>
<div class="ttc" id="aautomatic__and__symbolic__differentiation__0_8txt_html_a65afd93d8c47d4e8bc413fa1fac7fa83"><div class="ttname"><a href="automatic__and__symbolic__differentiation__0_8txt.html#a65afd93d8c47d4e8bc413fa1fac7fa83">order</a></div><div class="ttdeci">computing derivatives of these terms is impractical in most applications in impossible to get right Higher derivatives are even more impossible to do without computer aid Automatic or symbolic differentiation is a way out of and gets compile or both ****auto_diff_1 Automatic differentiation *commonly also referred to as algorithmic is a numerical method that can be used to automatically compute the and perhaps higher order</div><div class="ttdef"><b>Definition:</b> <a href="automatic__and__symbolic__differentiation__0_8txt_source.html#l00019">automatic_and_symbolic_differentiation_0.txt:19</a></div></div>
<div class="ttc" id="aclassUtilities_1_1MPI_1_1ProcessGrid_html"><div class="ttname"><a href="classUtilities_1_1MPI_1_1ProcessGrid.html">Utilities::MPI::ProcessGrid</a></div><div class="ttdef"><b>Definition:</b> <a href="base_2process__grid_8h_source.html#l00105">process_grid.h:105</a></div></div>
<div class="ttc" id="agroup__Exceptions_html_gae9a45f517af1401c50811a11083f9114"><div class="ttname"><a href="group__Exceptions.html#gae9a45f517af1401c50811a11083f9114">StandardExceptions::ExcMessage</a></div><div class="ttdeci">static ::ExceptionBase &amp; ExcMessage(std::string arg1)</div></div>
<div class="ttc" id="aclassUtilities_1_1MPI_1_1ProcessGrid_html_aa55ca75ad1fbf1988010ef15551a9285"><div class="ttname"><a href="classUtilities_1_1MPI_1_1ProcessGrid.html#aa55ca75ad1fbf1988010ef15551a9285">Utilities::MPI::ProcessGrid::send_to_inactive</a></div><div class="ttdeci">void send_to_inactive(NumberType *value, const int count=1) const</div><div class="ttdef"><b>Definition:</b> <a href="process__grid_8cc_source.html#l00245">process_grid.cc:245</a></div></div>
<div class="ttc" id="aconfig_8h_html_a37029dc5bac94f70ea13386b692956b6"><div class="ttname"><a href="config_8h.html#a37029dc5bac94f70ea13386b692956b6">DEAL_II_NAMESPACE_OPEN</a></div><div class="ttdeci">#define DEAL_II_NAMESPACE_OPEN</div><div class="ttdef"><b>Definition:</b> <a href="config_8h_source.html#l00398">config.h:398</a></div></div>
<div class="ttc" id="atria__accessor_8templates__0_8txt_html_a456453dd94fbd82cfc84e80f1bb9b520"><div class="ttname"><a href="tria__accessor_8templates__0_8txt.html#a456453dd94fbd82cfc84e80f1bb9b520">count</a></div><div class="ttdeci">*Compute the diameter for a given set of vertices The vertices are depending on their count</div><div class="ttdef"><b>Definition:</b> <a href="tria__accessor_8templates__0_8txt_source.html#l00002">tria_accessor.templates_0.txt:2</a></div></div>
<div class="ttc" id="atable__handler__0_8txt_html_aa02519610f643695a6a4f66c4062392a"><div class="ttname"><a href="table__handler__0_8txt.html#aa02519610f643695a6a4f66c4062392a">int</a></div><div class="ttdeci">*A&lt; tt &gt; TableEntry&lt;/tt &gt; stores the value of a table entry It can either be of type int</div><div class="ttdef"><b>Definition:</b> <a href="table__handler__0_8txt_source.html#l00002">table_handler_0.txt:2</a></div></div>
<div class="ttc" id="anamespaceUtilities_1_1MPI_html_af71d4b9497936fedf1398c0b6fba2ee7"><div class="ttname"><a href="namespaceUtilities_1_1MPI.html#af71d4b9497936fedf1398c0b6fba2ee7">Utilities::MPI::create_group</a></div><div class="ttdeci">int create_group(const MPI_Comm &amp;comm, const MPI_Group &amp;group, const int tag, MPI_Comm *new_comm)</div><div class="ttdef"><b>Definition:</b> <a href="mpi_8cc_source.html#l00181">mpi.cc:181</a></div></div>
<div class="ttc" id="aclassUtilities_1_1MPI_1_1ProcessGrid_html_ac77b6a9e7c63bbd3cdef7a60dcb6da82"><div class="ttname"><a href="classUtilities_1_1MPI_1_1ProcessGrid.html#ac77b6a9e7c63bbd3cdef7a60dcb6da82">Utilities::MPI::ProcessGrid::~ProcessGrid</a></div><div class="ttdeci">~ProcessGrid()</div><div class="ttdef"><b>Definition:</b> <a href="process__grid_8cc_source.html#l00232">process_grid.cc:232</a></div></div>
<div class="ttc" id="agroup__Exceptions_html_ga9677b6d6fb5a89c8b7778bb8b13314e4"><div class="ttname"><a href="group__Exceptions.html#ga9677b6d6fb5a89c8b7778bb8b13314e4">AssertThrowMPI</a></div><div class="ttdeci">#define AssertThrowMPI(error_code)</div><div class="ttdef"><b>Definition:</b> <a href="include_2deal_8II_2base_2exceptions_8h_source.html#l01894">exceptions.h:1894</a></div></div>
<div class="ttc" id="aclassUtilities_1_1MPI_1_1ProcessGrid_html_a03fd9fa883b90197098768bc0fbfe393"><div class="ttname"><a href="classUtilities_1_1MPI_1_1ProcessGrid.html#a03fd9fa883b90197098768bc0fbfe393">Utilities::MPI::ProcessGrid::this_process_row</a></div><div class="ttdeci">int this_process_row</div><div class="ttdef"><b>Definition:</b> <a href="base_2process__grid_8h_source.html#l00259">process_grid.h:259</a></div></div>
<div class="ttc" id="aclassUtilities_1_1MPI_1_1ProcessGrid_html_a19a68420b72fdfa894a72f9b4227f185"><div class="ttname"><a href="classUtilities_1_1MPI_1_1ProcessGrid.html#a19a68420b72fdfa894a72f9b4227f185">Utilities::MPI::ProcessGrid::blacs_context</a></div><div class="ttdeci">int blacs_context</div><div class="ttdef"><b>Definition:</b> <a href="base_2process__grid_8h_source.html#l00228">process_grid.h:228</a></div></div>
<div class="ttc" id="anamespaceDifferentiation_1_1SD_html_a6545410ba18556ebf7c478b6ad9939f6"><div class="ttname"><a href="namespaceDifferentiation_1_1SD.html#a6545410ba18556ebf7c478b6ad9939f6">Differentiation::SD::ceil</a></div><div class="ttdeci">Expression ceil(const Expression &amp;x)</div><div class="ttdef"><b>Definition:</b> <a href="symengine__math_8cc_source.html#l00301">symengine_math.cc:301</a></div></div>
<div class="ttc" id="agroup__Exceptions_html_ga31978c026b8b6b5116df30b8e748f6b7"><div class="ttname"><a href="group__Exceptions.html#ga31978c026b8b6b5116df30b8e748f6b7">StandardExceptions::ExcInternalError</a></div><div class="ttdeci">static ::ExceptionBase &amp; ExcInternalError()</div></div>
<div class="ttc" id="agroup__Exceptions_html_ga70a0bb353656e704acf927945277bbc6"><div class="ttname"><a href="group__Exceptions.html#ga70a0bb353656e704acf927945277bbc6">Assert</a></div><div class="ttdeci">#define Assert(cond, exc)</div><div class="ttdef"><b>Definition:</b> <a href="include_2deal_8II_2base_2exceptions_8h_source.html#l01581">exceptions.h:1581</a></div></div>
<div class="ttc" id="anamespaceUtilities_1_1MPI_html_a895dcd8223a0ee6f0e6a80b80e2d5982"><div class="ttname"><a href="namespaceUtilities_1_1MPI.html#a895dcd8223a0ee6f0e6a80b80e2d5982">Utilities::MPI::this_mpi_process</a></div><div class="ttdeci">unsigned int this_mpi_process(const MPI_Comm &amp;mpi_communicator)</div><div class="ttdef"><b>Definition:</b> <a href="mpi_8cc_source.html#l00128">mpi.cc:128</a></div></div>
<div class="ttc" id="ablock__sparse__matrix__ez__0_8txt_html_af734f4df74ac4822dd99a6cca7203600"><div class="ttname"><a href="block__sparse__matrix__ez__0_8txt.html#af734f4df74ac4822dd99a6cca7203600">m</a></div><div class="ttdeci">Matrix1 *[2.x.1] **A block matrix consisting of blocks of type SparseMatrixEZ *Like the other Block this matrix can be used like a when it comes to access to entries there are functions for the multiplication with BlockVector and access to the individual blocks the block s must be empty **Copy this operation is only allowed if the actual value to be assigned is zero This in order to be able to relay global indices into the matrix to indices into the subobjects Youmust *call this function each time after you have changed the size of the sub objects **Access the block with the given coordinates **Access the block with the given coordinates Version for constant objects **Return the number of blocks in a column **Return the number of blocks in a row **Return whether the object is empty It is empty if no memory is which is the same as that both dimensions are zero This function is just the concatenation of the respective call to all sub matrices **Return number of rows of this which equals the dimension of the which equals the dimension of the domain space It is the sum of the number of columns over the sub matrix blocks of this matrix Recall that the matrix is of size m() times n(). *[0.x.18] *Set the element&lt; tt &gt;(i</div></div>
<div class="ttc" id="aclassUtilities_1_1MPI_1_1ProcessGrid_html_a3891d4e545cfaf2fb507b02c851f6a83"><div class="ttname"><a href="classUtilities_1_1MPI_1_1ProcessGrid.html#a3891d4e545cfaf2fb507b02c851f6a83">Utilities::MPI::ProcessGrid::ProcessGrid</a></div><div class="ttdeci">ProcessGrid(const MPI_Comm &amp;mpi_communicator, const unsigned int n_rows, const unsigned int n_columns)</div><div class="ttdef"><b>Definition:</b> <a href="process__grid_8cc_source.html#l00224">process_grid.cc:224</a></div></div>
<div class="ttc" id="aclassUtilities_1_1MPI_1_1ProcessGrid_html_ad5bdd2edf819da15946e5a885f031637"><div class="ttname"><a href="classUtilities_1_1MPI_1_1ProcessGrid.html#ad5bdd2edf819da15946e5a885f031637">Utilities::MPI::ProcessGrid::n_process_columns</a></div><div class="ttdeci">int n_process_columns</div><div class="ttdef"><b>Definition:</b> <a href="base_2process__grid_8h_source.html#l00252">process_grid.h:252</a></div></div>
<div class="ttc" id="adata__out__base__0_8txt_html_a4baf3a79030f53d8ecd9bd4e5a688bbb"><div class="ttname"><a href="data__out__base__0_8txt.html#a4baf3a79030f53d8ecd9bd4e5a688bbb">second</a></div><div class="ttdeci">for&lt; tt &gt;&lt; tt &gt;&lt; tt &gt; etc The actual location of these points on the patch will be computed by a multilinear transformation from the vertices given for this patch For cells at the a mapping might be used to calculate the position of the inner points In that case the coordinates are stored inside the as they cannot be easily recovered otherwise *Given these the actual data to be printed on this patch of points consists of several data sets each of which has a value at each of the patch points For example with&lt; tt &gt; each data set has to provide nine and since the patch is to be printed as a tensor its values are to be ordered i e the z coordinate runs then the y then the patches as explained above might be too restricted For one might want to draw only the outer faces of a domain in a three dimensional if one is not interested in what happens inside the objects that should be drawn are two dimensional in a three dimensional world The Patch class and associated output functions handle these cases The Patch class therefore takes two template parameters the first named&lt; tt &gt; dim&lt;/tt &gt; denoting the dimension of the while the second</div><div class="ttdef"><b>Definition:</b> <a href="data__out__base__0_8txt_source.html#l00016">data_out_base_0.txt:16</a></div></div>
<div class="ttc" id="anamespaceUtilities_1_1MPI_html_ac26de0c059200523177bb1d92cc25d00"><div class="ttname"><a href="namespaceUtilities_1_1MPI.html#ac26de0c059200523177bb1d92cc25d00">Utilities::MPI::n_mpi_processes</a></div><div class="ttdeci">unsigned int n_mpi_processes(const MPI_Comm &amp;mpi_communicator)</div><div class="ttdef"><b>Definition:</b> <a href="mpi_8cc_source.html#l00117">mpi.cc:117</a></div></div>
<div class="ttc" id="aclassUtilities_1_1MPI_1_1ProcessGrid_html_a52f9cdeea2b23224c0e7c736e19b16be"><div class="ttname"><a href="classUtilities_1_1MPI_1_1ProcessGrid.html#a52f9cdeea2b23224c0e7c736e19b16be">Utilities::MPI::ProcessGrid::mpi_communicator_inactive_with_root</a></div><div class="ttdeci">MPI_Comm mpi_communicator_inactive_with_root</div><div class="ttdef"><b>Definition:</b> <a href="base_2process__grid_8h_source.html#l00221">process_grid.h:221</a></div></div>
<div class="ttc" id="aclassUtilities_1_1MPI_1_1ProcessGrid_html_a33e44f95324f6b9da58cd73ad20c1b0b"><div class="ttname"><a href="classUtilities_1_1MPI_1_1ProcessGrid.html#a33e44f95324f6b9da58cd73ad20c1b0b">Utilities::MPI::ProcessGrid::mpi_process_is_active</a></div><div class="ttdeci">bool mpi_process_is_active</div><div class="ttdef"><b>Definition:</b> <a href="base_2process__grid_8h_source.html#l00272">process_grid.h:272</a></div></div>
<div class="ttc" id="aautomatic__and__symbolic__differentiation__0_8txt_html_a06f24e4861fb115188fd2a8027e7b407"><div class="ttname"><a href="automatic__and__symbolic__differentiation__0_8txt.html#a06f24e4861fb115188fd2a8027e7b407">first</a></div><div class="ttdeci">computing derivatives of these terms is impractical in most applications in impossible to get right Higher derivatives are even more impossible to do without computer aid Automatic or symbolic differentiation is a way out of and gets compile or both ****auto_diff_1 Automatic differentiation *commonly also referred to as algorithmic is a numerical method that can be used to automatically compute the first</div><div class="ttdef"><b>Definition:</b> <a href="automatic__and__symbolic__differentiation__0_8txt_source.html#l00019">automatic_and_symbolic_differentiation_0.txt:19</a></div></div>
<div class="ttc" id="anamespaceVectorTools_1_1EvaluationFlags_html_ac6721740e24732d6afabcf28ddfc1ffdaeae4878b1e562785c1c196238a3f14e0"><div class="ttname"><a href="namespaceVectorTools_1_1EvaluationFlags.html#ac6721740e24732d6afabcf28ddfc1ffdaeae4878b1e562785c1c196238a3f14e0">VectorTools::EvaluationFlags::min</a></div><div class="ttdeci">@ min</div><div class="ttdef"><b>Definition:</b> <a href="numerics_2vector__tools__evaluate_8h_source.html#l00062">vector_tools_evaluate.h:62</a></div></div>
<div class="ttc" id="abase_2partitioner__0_8txt_html_a6d2d0fa485d1660823c59c494fb0fb31"><div class="ttname"><a href="base_2partitioner__0_8txt.html#a6d2d0fa485d1660823c59c494fb0fb31">MPI</a></div><div class="ttdeci">*This class defines a model for the partitioning of a it includes a structure for the point to point communication patterns It allows the inclusion of ghost it also stores the other processors ghost indices belonging to the current which are the indices where other processors might require information from In a these import indices form the dual of the ghost indices This information is gathered once when constructing the which obviates subsequent global communication steps when exchanging data The figure below gives an example of index space[2.x.2] being split into four parts that are each owned by one MPI the next four lines indicate which elements of the overall array each processor wants to know about **this is generally a superset of the locally owned with the difference being what are called ghost elements To understand the remaining pieces of the remember that in MPI</div><div class="ttdef"><b>Definition:</b> <a href="base_2partitioner__0_8txt_source.html#l00004">partitioner_0.txt:4</a></div></div>
<div class="ttc" id="aconfig_8h_html_a998f224639942da0567cbd1ec77913b7"><div class="ttname"><a href="config_8h.html#a998f224639942da0567cbd1ec77913b7">DEAL_II_NAMESPACE_CLOSE</a></div><div class="ttdeci">#define DEAL_II_NAMESPACE_CLOSE</div><div class="ttdef"><b>Definition:</b> <a href="config_8h_source.html#l00399">config.h:399</a></div></div>
<div class="ttc" id="anamespaceVectorTools_1_1EvaluationFlags_html_ac6721740e24732d6afabcf28ddfc1ffdabaecdd1343aae63b652a2edeab0c19f9"><div class="ttname"><a href="namespaceVectorTools_1_1EvaluationFlags.html#ac6721740e24732d6afabcf28ddfc1ffdabaecdd1343aae63b652a2edeab0c19f9">VectorTools::EvaluationFlags::max</a></div><div class="ttdeci">@ max</div><div class="ttdef"><b>Definition:</b> <a href="numerics_2vector__tools__evaluate_8h_source.html#l00056">vector_tools_evaluate.h:56</a></div></div>
<div class="ttc" id="aclassUtilities_1_1MPI_1_1ProcessGrid_html_ad8195b4fcc553d99c4ff518ce034cea9"><div class="ttname"><a href="classUtilities_1_1MPI_1_1ProcessGrid.html#ad8195b4fcc553d99c4ff518ce034cea9">Utilities::MPI::ProcessGrid::this_process_column</a></div><div class="ttdeci">int this_process_column</div><div class="ttdef"><b>Definition:</b> <a href="base_2process__grid_8h_source.html#l00266">process_grid.h:266</a></div></div>
<div class="ttc" id="afunctions__0_8txt_html_af9f808a82e8c618e2e7a19dd08a9eae3"><div class="ttname"><a href="functions__0_8txt.html#af9f808a82e8c618e2e7a19dd08a9eae3">value</a></div><div class="ttdeci">****Functions are used in various places in deal for example to describe boundary coefficients in forcing or exact solutions Since closed form expressions for equations are often hard to pass along as function deal II uses the Function base class to describe these objects Essentially the interface of this base class requires derived classes to implement the ability to return the value of a function at one or a list of particular locations and function objects can then be used by algorithms like[2.x.1][2.x.2] and other functions *Some functions are needed again and and are therefore already provided in deal II This includes a function with a constant value</div><div class="ttdef"><b>Definition:</b> <a href="functions__0_8txt_source.html#l00007">functions_0.txt:7</a></div></div>
<div class="ttc" id="anamespaceUtilities_html"><div class="ttname"><a href="namespaceUtilities.html">Utilities</a></div><div class="ttdef"><b>Definition:</b> <a href="base_2communication__pattern__base_8h_source.html#l00030">communication_pattern_base.h:30</a></div></div>
<div class="ttc" id="atensor__product__kernels__0_8txt_html_ac9be14b95309fbebbb45e29cc384188c"><div class="ttname"><a href="tensor__product__kernels__0_8txt.html#ac9be14b95309fbebbb45e29cc384188c">n_rows</a></div><div class="ttdeci">must implement taking the data from corresponding to a multiplication of along the given[2.x.49] of the tensor data in the input array This function allows the[2.x.50] and[2.x.51] arrays to alias for the case n_rows</div><div class="ttdef"><b>Definition:</b> <a href="tensor__product__kernels__0_8txt_source.html#l00052">tensor_product_kernels_0.txt:52</a></div></div>
<div class="ttc" id="apetsc__matrix__base__0_8txt_html_a5a1b8b75c93e6ea5e27829c4fe862a8e"><div class="ttname"><a href="petsc__matrix__base__0_8txt.html#a5a1b8b75c93e6ea5e27829c4fe862a8e">n</a></div><div class="ttdeci">local_size()&lt;/tt &gt;. *[0.x.57] *Return whether[2.x.13] is in the local range or not, see also local_range(). *[0.x.58] *Return a reference to the MPI communicator object in use with this matrix. This function has to be implemented in derived classes. *[0.x.59] *Return the number of nonzero elements of this matrix. Actually, it returns the number of entries in the sparsity pattern n</div><div class="ttdef"><b>Definition:</b> <a href="petsc__matrix__base__0_8txt_source.html#l00127">petsc_matrix_base_0.txt:127</a></div></div>
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
